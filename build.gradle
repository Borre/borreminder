apply plugin: "groovy"
apply plugin: "application"
version = "0.1.0"
mainClassName = "com.borre.Borreminder"
manifest {
    attributes 'Main-Class': mainClassName
}

repositories {
    mavenCentral()
    maven { url "http://repo.spring.io/libs-snapshot" }
}

dependencies {
    compile 'org.codehaus.groovy:groovy-all:2.1.3'
    compile 'org.mongodb:mongo-java-driver:2.11.3'
    testCompile 'org.spockframework:spock-core:0.7-groovy-2.0'
}

task jarGenerator(type: Jar,dependsOn:[':compileJava',':compileGroovy']) {
    from files(sourceSets.main.output.classesDir)
    from configurations.runtime.asFileTree.files.collect { zipTree(it) }

    manifest {
        attributes 'Main-Class': mainClassName
    }
}